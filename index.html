<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Modern Database Systems</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      * {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale
      }

      html {
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      }

      body {
        padding-left: 15%;
        padding-right: 15%
      }

      .title {
        margin-top: 50pt;
        font-size: 20pt;
        color: #857769
      }
      .new {
        margin: 50pt;
        text-align: center;
        font-size:12pt;
      }
      .source {
        margin: 50pt;
        text-align: center;
        font-size:12pt;
      }
      .fauna {
        margin-top: 10pt;
        text-align: center;
        font-size:15pt;
      }

      a {
        color: #78a081;
        border-bottom: 1px solid #32231F;
        text-decoration: none;
      }

      a:hover {
        border-bottom: 2px solid #78a081;
      }

      @media(max-width:600pt) {
        body {
          padding-left: 2%;
          padding-right: 2%
        }
      }
    </style>
  </head>
  <body>
    <div class="header">
      <div class="title"> </div>
      <div class="new"><a href="javascript:set()">get me a new one</a></div>
      <div class="fauna">Brought to you by the fine folks at <a target="_blank" href="http://fauna.com">FaunaDB</a>: the global, transactional database with a relational NoSQL query engine, based on an optimized implementation of <a target="_blank" href="http://cs.yale.edu/homes/thomson/publications/calvin-sigmod12.pdf">Calvin</a> in Scala.</div>
      <div class="source">inspired by <a target="_blank" href="http://github.com/joom/type.systems">type.systems</a></div>
    </div>
    <script>
      var names = [
        "Addax",
        "Tamaraw",
        "Markhor",
        "Puku",
        "Guanaco",
        "Onager",
        "Kodkod",
        "Cornel",
        "Charlock",
        "Fumewort",
        "Leek",
        "Makemake",
        "Eris",
        "BoÃ¶tes",
        "Carina",
        "Crux",
        "Tartarus",
        "Pontus",
        "Leto",
        "Styx"
      ]

      var consistencyModel = [
        ["PRAM", "https://www.cs.princeton.edu/research/techreps/TR-180-88"],
        ["Highly Available Transactions", "http://www.bailis.org/papers/hat-hotos2013.pdf"],
        ["serializable", "https://www.ics.forth.gr/tech-reports/2013/2013.TR439_Survey_on_Consistency_Conditions.pdf"],
        ["sequentially consistent", "https://www.ics.forth.gr/tech-reports/2013/2013.TR439_Survey_on_Consistency_Conditions.pdf"],
        ["Virtual World Consistency", "https://www.ics.forth.gr/tech-reports/2013/2013.TR439_Survey_on_Consistency_Conditions.pdf"],
        ["eventually consistent", "https://en.wikipedia.org/wiki/Eventual_consistency"],
        ["CAP", "https://en.wikipedia.org/wiki/CAP_theorem"],
        ["PACELC", "https://en.wikipedia.org/wiki/PACELC_theorem"]
      ]

      var queryLanguage = [
        ["a", ".QL", "https://en.wikipedia.org/wiki/.QL"],
        ["a", "JPQL", 'https://en.wikipedia.org/wiki/Java_Persistence_Query_Language'],
        ["an", "AQL", "https://en.wikipedia.org/wiki/Access_query_language"],
        ["a", "Cypher Query Language", "https://en.wikipedia.org/wiki/Cypher_Query_Language"],
        ["a", "HTSQL", "https://en.wikipedia.org/wiki/HTSQL"],
        ["an",  "OQL", "https://en.wikipedia.org/wiki/Object_Query_Language"],
        ["a", "MQL", "https://en.wikipedia.org/wiki/Molecular_Query_Language"],
        ["a", "LINQ", "https://en.wikipedia.org/wiki/Language_Integrated_Query"],
        ["an LDAP", "https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol"],
        ["an", "MDX", "https://en.wikipedia.org/wiki/MultiDimensional_eXpressions"],
        ["an",  "OCL", "https://en.wikipedia.org/wiki/Object_Constraint_Language"],
        ["a", "DMX", "https://en.wikipedia.org/wiki/Data_Mining_Extensions"],
        ["a", "Datalog", "https://en.wikipedia.org/wiki/Datalog"],
        ["a", "QUEL", "https://en.wikipedia.org/wiki/QUEL_query_languages"],
        ["a", "SMARTS", "https://en.wikipedia.org/wiki/SMILES_arbitrary_target_specification"],
        ["an",  "AQL", "https://specifications.openehr.org/releases/QUERY/latest/AQL.html"],
        ["an", "RDF", "https://en.wikipedia.org/wiki/RDF_query_language"],
        ["an", "XPath", "https://en.wikipedia.org/wiki/XPath"],
        ["a", "F-logic", "https://en.wikipedia.org/wiki/F-logic"],
        ["a", "Gremlin", "https://en.wikipedia.org/wiki/Gremlin_(programming_language)"],
        ["an", "HTSQL", "https://en.wikipedia.org/wiki/HTSQL"],
        ["a", "GraphQL", "https://graphql.org/"]
      ]

      var consensusProtocol = [
        ["Paxos", "https://lamport.azurewebsites.net/pubs/lamport-paxos.pdf"],
        ["Multi-Paxos", "http://www.beyondthelines.net/algorithm/multi-paxos/"],
        ["Raft", "https://raft.github.io/raft.pdf"],
        ["Viewstamped Replication", "http://pmg.csail.mit.edu/papers/vr-revisited.pdf"],
        ["Optimistic Virtual Synchrony", "https://groups.csail.mit.edu/tds/papers/Keidar/ovs-tr.pdf"],
        ["CAS Paxos", "https://arxiv.org/abs/1802.07000"],
        ["Vertical Paxos", "https://www.microsoft.com/en-us/research/publication/vertical-paxos-and-primary-backup-replication/"],
        ["Flexible Paxos", "https://fpaxos.github.io/"],
        ["HyParView", "http://asc.di.fct.unl.pt/~jleitao/pdf/dsn07-leitao.pdf"],
        ["Bitcoin", "https://bitcoin.org/bitcoin.pdf"],
        ["Quantum Byzantine agreement", "https://en.wikipedia.org/wiki/Quantum_Byzantine_agreement"],
        ["ROWA", "https://link.springer.com/chapter/10.1007/11603771_17"]
      ]

      var qualifier = [
          "transactional",
          "highly-available",
          "ACID-capable",
          "proto-ACID",
          "resilient",
          "global",
          "graph-oriented",
          "temporal",
          "object-oriented",
          "GDPR-enabled",
          "fault-tolerant"
      ];

      var programmingLanguages = [
        "Erlang",
        "Scala",
        "Swift",
        "JLang",
        "Rust",
        "Haskell",
        "Go",
        "Ada",
        "Factor",
        "Piet",
        "Idris",
        "Miranda",
        "Eiffel",
        "COBOL",
        "Bash"
      ]

      const pick = list => list[Math.floor(Math.random() * list.length)];
      const link = pair => ((pair.length == 3) ?
        `${pair[0]} <a target="_blank" href="${pair[2]}">${pair[1]}</a>`
      : ((pair.length == 2) ?
        `<a target="_blank" href="${pair[1]}">${pair[0]}</a>`
      :
        pair[0]
      ))
      const put = list => link(pick(list));
      const set = () => {
        let sometimes = Math.random() < 0.8;
        let someQualifier = sometimes ? `${pick(qualifier)}, ` : ""
        document.querySelector('.title').innerHTML = `${pick(names)}DB: the ${someQualifier}${put(consistencyModel)} database with ${put(queryLanguage)} query engine, based on an optimized implementation of ${put(consensusProtocol)} in ${pick(programmingLanguages)}.`;
      };
      set();
    </script>
  </body>
</html>
